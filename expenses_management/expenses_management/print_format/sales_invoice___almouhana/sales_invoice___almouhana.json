{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-12-30 22:25:38.262256",
 "custom_format": 1,
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<!DOCTYPE html> {% set customer = doc.customer %} {% set ctax_id = frappe.get_doc(\"Customer\", customer).tax_id %} {% if doc.customer_address %} {% set addr = frappe.get_doc(\"Address\", doc.customer_address) %} {% endif %} {% set comp = frappe.get_doc(\"Company\", doc.company) %} {% set company_logo = \"/assets/expenses_management/images/logo.jpeg\" %} {% set color = \"#333333\" %} {% set links = frappe.get_all('Dynamic Link', filters={'link_doctype': 'Company', 'link_name': doc.company, 'parenttype': 'Address'}, fields=['parent']) %} {% if links %} {% set address = frappe.get_doc(\"Address\", links[0].parent) %} {% endif %} <style> table { border-spacing: 0; border-collapse: collapse; } th, td { line-height: 1.2; font-size: 13px; font-weight: bold; padding: 3px; margin: 0; } .ar { text-align: right; } .styled-table { border-collapse: collapse; box-shadow: 0 0 20px rgba(0, 0, 0, 0.10); border-radius: 10px; overflow: hidden; border: 1px solid #dddddd; } .styled-table tbody tr:last-of-type { border-bottom: 2px solid {{color}}; } .styled-table th, .styled-table td { border: none; font-weight: bold; } .styled-table tbody tr:nth-of-type(even) { background-color: #f3f3f3; } .items-table { border: none !important; } .items-table td, .items-table th { border: none !important; border-bottom: 1px solid #eee !important; } .items-table tbody tr:nth-of-type(even) { background-color: #f9f9f9; } .print-format { padding: 0; font-size: 13px; direction: ltr; } .fixed-footer { position: fixed; bottom: 0; left: 0; right: 0; width: 100%; text-align: center; background: transparent; border-top: 2px solid {{color}}; padding: 8px 10px; } @media print { .print-format-gutter { margin: 2mm 2mm 0 2mm !important; } .print-format { margin: 0 5mm !important; padding: 0 !important; } } @page { size: auto; margin: 5mm 0mm 30mm 0mm; } </style> <!-- Header: Logo and Title side by side - ALIGNED TOP --> <table style=\"width:100%;border:none;margin:0;padding:0;\"> <tr style=\"border:none;\"> <td style=\"width:50%;vertical-align:top;border:none;text-align:center;padding:0;\"> <img src=\"{{ company_logo }}\" style=\"height:160px;width:auto;max-width:360px;\" alt=\"Logo\" /> </td> <td style=\"width:50%;vertical-align:top;border:none;text-align:center;padding:0;\"> {% if doc.is_return == 0 %} <div style=\"font-size:28px;font-weight:bold;color:#1a5276;\">\u0641\u0627\u062a\u0648\u0631\u0629 \u0636\u0631\u064a\u0628\u064a\u0629</div> <div style=\"font-size:24px;font-weight:bold;color:#1a5276;\">TAX INVOICE</div> {% else %} <div style=\"font-size:28px;font-weight:bold;color:#1a5276;\">\u0645\u0631\u062a\u062c\u0639</div> <div style=\"font-size:24px;font-weight:bold;color:#1a5276;\">Credit Note</div> {% endif %} {% if doc.custom_credit == 1 %} <div style=\"color:#e67e22;font-size:20px;font-weight:bold;margin-top:5px;padding:5px 25px;background-color:#fef5e7;border-radius:4px;display:inline-block;border:2px solid #e67e22;\">\u0622\u062c\u0644 / Credit</div> {% else %} <div style=\"color:#27ae60;font-size:20px;font-weight:bold;margin-top:5px;padding:5px 25px;background-color:#eafaf1;border-radius:4px;display:inline-block;border:2px solid #27ae60;\">\u0645\u062f\u0641\u0648\u0639 / Paid</div> {% endif %} {% if doc.docstatus == 2 %} <div style=\"color:#c0392b;font-size:16px;font-weight:bold;margin-top:5px;padding:4px 12px;background-color:#fadbd8;border-radius:4px;display:inline-block;\">CANCELLED / \u0645\u0644\u063a\u064a\u0629</div> {% elif doc.docstatus == 0 %} <div style=\"color:#d35400;font-size:16px;font-weight:bold;margin-top:5px;padding:4px 12px;background-color:#fdebd0;border-radius:4px;display:inline-block;\">DRAFT / \u0645\u0633\u0648\u062f\u0629</div> {% endif %} </td> </tr> </table> <!-- Date Row --> <table class=\"styled-table\" style=\"width:100%;margin:2px 0;\"> <tr> <td style=\"font-size:12px;text-align:center;\">{{ doc.due_date or '' }}</td> <td style=\"font-size:12px;text-align:center;\">Due Date / \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642</td> <td style=\"font-size:12px;text-align:center;\">{{ doc.posting_date }}</td> <td style=\"font-size:12px;text-align:center;\">Issue Date / \u0627\u0644\u0627\u0635\u062f\u0627\u0631</td> <td style=\"font-size:12px;text-align:center;\">{{ doc.name }}</td> <td style=\"font-size:12px;text-align:center;\">Invoice No / \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629</td> </tr> </table> <!-- Customer and Company Info --> <table style=\"width:100%;border:none;margin:2px 0;\"> <tr> <td style=\"width:49%;border:none;vertical-align:top;padding-right:5px;\"> <table class=\"styled-table\" style=\"width:100%;\"> {% if doc.customer %}<tr><td style=\"font-size:12px;\">To / \u0627\u0644\u0649</td><td style=\"font-size:12px;text-align:center;\">{{ doc.customer }}</td></tr>{% endif %} {% if doc.customer_name %}<tr><td style=\"font-size:12px;\">Customer / \u0627\u0644\u0639\u0645\u064a\u0644</td><td style=\"font-size:12px;text-align:center;\">{{ doc.customer_name }}</td></tr>{% endif %} {% if ctax_id %}<tr><td style=\"font-size:12px;\">TAX ID / \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a</td><td style=\"font-size:12px;text-align:center;\">{{ ctax_id }}</td></tr>{% endif %} {% if addr and addr.address_line1 %}<tr><td style=\"font-size:12px;\">Address / \u0627\u0644\u0639\u0646\u0648\u0627\u0646</td><td style=\"font-size:12px;text-align:center;\">{{ addr.address_line1[:30] }}</td></tr>{% endif %} {% if addr and addr.phone %}<tr><td style=\"font-size:12px;\">Phone / \u0627\u0644\u0647\u0627\u062a\u0641</td><td style=\"font-size:12px;text-align:center;\">{{ addr.phone }}</td></tr>{% endif %} </table> </td> <td style=\"width:49%;border:none;vertical-align:top;padding-left:5px;\"> <table class=\"styled-table\" style=\"width:100%;\"> {% if doc.company %}<tr><td style=\"font-size:12px;\">From / \u0645\u0646</td><td style=\"font-size:12px;text-align:center;\">{{ doc.company }}</td></tr>{% endif %} {% if doc.company_tax_id %}<tr><td style=\"font-size:12px;\">TAX ID / \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a</td><td style=\"font-size:12px;text-align:center;\">{{ doc.company_tax_id }}</td></tr>{% endif %} {% if comp.cr_number %}<tr><td style=\"font-size:12px;\">CR Number / \u0627\u0644\u0633\u062c\u0644 \u0627\u0644\u062a\u062c\u0627\u0631\u064a</td><td style=\"font-size:12px;text-align:center;\">{{ comp.cr_number }}</td></tr>{% endif %} {% if address and address.address_line1 %}<tr><td style=\"font-size:12px;\">Address / \u0627\u0644\u0639\u0646\u0648\u0627\u0646</td><td style=\"font-size:12px;text-align:center;\">{{ address.address_line1[:30] }}</td></tr>{% endif %} {% if comp.phone_no %}<tr><td style=\"font-size:12px;\">Phone / \u0627\u0644\u0647\u0627\u062a\u0641</td><td style=\"font-size:12px;text-align:center;\">{{ comp.phone_no }}</td></tr>{% endif %} </table> </td> </tr> </table> <!-- Items Table - NO BORDER --> <table class=\"items-table\" style=\"width:100%;margin-top:2px;border:none;\"> <tr style=\"background-color:{{color}};border:none;\"> <td colspan=\"5\" style=\"text-align:left;color:white;font-size:15px;border-top-left-radius:10px;border:none;\">Item and Services Description</td> <td colspan=\"4\" style=\"text-align:right;color:white;font-size:15px;border-top-right-radius:10px;border:none;\">\u062a\u0648\u0635\u064a\u0641 \u0627\u0644\u0633\u0644\u0639\u0629 \u0623\u0648 \u0627\u0644\u062e\u062f\u0645\u0629</td> </tr> <tr style=\"font-weight:bold;text-align:center;background-color:#f0f0f0;\"> <td style=\"width:3%;font-size:11px;border:none;\">S.N<br>\u0631.\u062a</td> <td style=\"font-size:11px;border:none;\">Nature of goods / \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0635\u0646\u0641</td> <td style=\"width:7%;font-size:11px;border:none;\">Qty<br>\u0627\u0644\u0643\u0645\u064a\u0629</td> <td style=\"width:10%;font-size:11px;border:none;\">Unit price<br>\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629</td> <td style=\"width:5%;font-size:11px;border:none;\">Unit<br>\u0627\u0644\u0648\u062d\u062f\u0629</td> <td style=\"width:13%;font-size:11px;border:none;\">Taxable Amt<br>\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u062e\u0627\u0636\u0639</td> <td style=\"width:8%;font-size:11px;border:none;\">Tax %<br>\u0627\u0644\u0636\u0631\u064a\u0628\u0629</td> <td style=\"width:10%;font-size:11px;border:none;\">Tax Amt<br>\u0645\u0628\u0644\u063a \u0627\u0644\u0636\u0631\u064a\u0628\u0629</td> <td style=\"width:14%;font-size:11px;border:none;\">Subtotal<br>\u0627\u0644\u0645\u062c\u0645\u0648\u0639</td> </tr> {% set i = [1] %} {% for item in doc.items %} {% set item_tax_rate = 0 %}{% set item_tax_amount = 0 %} {% if doc.taxes and doc.taxes|length > 0 %}{% set item_tax_rate = doc.taxes[0].rate or 15 %}{% set item_tax_amount = (item.net_amount or 0) * item_tax_rate / 100 %}{% endif %} {% set item_total = (item.net_amount or 0) + item_tax_amount %} <tr> <td style=\"font-size:13px;text-align:center;border:none;\">{{ i[0] }}</td> <td style=\"font-size:13px;border:none;\">{{ item.item_code }}: {{ item.item_name[:70] }}</td> <td style=\"font-size:13px;text-align:center;border:none;\">{% if (item.qty | int) == item.qty %}{{ item.qty | int }}{% else %}{{ item.qty }}{% endif %}</td> <td style=\"font-size:13px;text-align:center;border:none;\">{{ \"{:,.2f}\".format(item.rate) }}</td> <td style=\"font-size:13px;text-align:center;border:none;\">{{ item.uom }}</td> <td style=\"font-size:13px;text-align:center;border:none;\">{{ \"{:,.2f}\".format(item.net_amount or item.amount) }}</td> <td style=\"font-size:13px;text-align:center;border:none;\">{{ item_tax_rate }}%</td> <td style=\"font-size:13px;text-align:center;border:none;\">{{ \"{:,.2f}\".format(item_tax_amount) }}</td> <td style=\"font-size:13px;text-align:center;border:none;\">{{ \"{:,.2f}\".format(item_total) }}</td> </tr> {% if i.append(i.pop() + 1) %}{% endif %} {% endfor %} </table> <!-- Totals Section --> <table style=\"width:100%;border:none;margin-top:2px;\"> <tr style=\"background-color:{{color}};\"><td colspan=\"2\" style=\"color:white;font-size:15px;border-radius:10px 10px 0 0;text-align:center;border:none;\">Total amounts / \u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u0627\u0644\u063a</td></tr> <tr style=\"border:none;\"> <td style=\"width:50%;vertical-align:top;border:none;padding:5px;\"> <table style=\"width:100%;border:none;\"> <tr style=\"background-color:#ffffff;\"><td style=\"font-size:12px;border:none;\">Total (Excluding VAT) / \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u063a\u064a\u0631 \u0634\u0627\u0645\u0644</td><td style=\"font-size:12px;text-align:right;border:none;\">SAR {{ \"{:,.2f}\".format(doc.net_total) }}</td></tr> {% if doc.discount_amount %}<tr style=\"background-color:#f3f3f3;\"><td style=\"font-size:12px;border:none;\">Discount / \u0627\u0644\u062e\u0635\u0648\u0645\u0627\u062a</td><td style=\"font-size:12px;text-align:right;border:none;\">SAR {{ \"{:,.2f}\".format(doc.discount_amount) }}</td></tr>{% endif %} <tr style=\"background-color:#f3f3f3;\"><td style=\"font-size:12px;border:none;\">Total VAT / \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629</td><td style=\"font-size:12px;text-align:right;border:none;\">SAR {{ \"{:,.2f}\".format(doc.total_taxes_and_charges) }}</td></tr> <tr style=\"background-color:#ffffff;\"><td style=\"font-size:14px;font-weight:bold;border:none;\">Total Amount Due / \u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0633\u062a\u062d\u0642</td><td style=\"font-size:14px;font-weight:bold;text-align:right;border:none;\">SAR {{ \"{:,.2f}\".format(doc.grand_total) }}</td></tr> <tr style=\"background-color:#f3f3f3;\"><td colspan=\"2\" style=\"font-size:12px;border:none;\">{{ frappe.utils.money_in_words(doc.grand_total | abs, 'SAR', 'Halala') }}</td></tr> <tr style=\"background-color:#ffffff;\"><td style=\"font-size:12px;border:none;\">Issued By / \u062a\u062d\u0631\u0631 \u0628\u0648\u0627\u0633\u0637\u0629:</td><td style=\"font-size:12px;text-align:right;border:none;\">{{ frappe.db.get_value('User', doc.modified_by, 'full_name') }}</td></tr> </table> </td> <td style=\"width:50%;vertical-align:middle;border:none;text-align:center;padding:10px;\"> {% if doc.ksa_einv_qr %}<img src=\"{{ doc.ksa_einv_qr }}\" style=\"width:140px;height:140px;\" />{% endif %} </td> </tr> </table> <!-- Footer - No Background, Larger Font, 2 Lines --> <div class=\"fixed-footer\"> <table style=\"width:100%;border:none;\"> <tr style=\"border:none;\"> <td style=\"width:20%;vertical-align:middle;border:none;text-align:left;\"> <img src=\"{{ company_logo }}\" style=\"height:55px;width:auto;\" alt=\"Logo\" /> </td> <td style=\"width:80%;vertical-align:middle;border:none;text-align:center;direction:rtl;\"> <div style=\"font-size:13px;font-weight:bold;color:#333;\">\u0627\u0644\u0631\u064a\u0627\u0636: \u0627\u0644\u0635\u0646\u0627\u0639\u064a\u0629 \u0627\u0644\u0642\u062f\u064a\u0645\u0629: 0500174187 | \u0637\u0631\u064a\u0642 \u0627\u0644\u062e\u0631\u062c: 0531674322</div> <div style=\"font-size:13px;font-weight:bold;color:#333;\">\u0637\u0631\u064a\u0642 \u0647\u0627\u0631\u0648\u0646 \u0627\u0644\u0631\u0634\u064a\u062f: 0558501303 | \u062c\u062f\u0629: 0533317381</div> </td> </tr> </table> </div>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-12-31 01:42:40.210824",
 "modified_by": "Administrator",
 "module": "Expenses Management",
 "name": "Sales Invoice - Almouhana",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_for": "DocType",
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}